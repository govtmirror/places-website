<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="http://www.nps.gov/npmap/bootstrap/3.2.0/dist/css/nps-bootstrap.css" rel="stylesheet">
    <style>
      body, p {
        padding: 15px;
      }
      #map, #properties {
        display: none;
      }
      #map {
        height: 250px;
        position: relative;
      }
      #properties {
        height: 250px;
        margin-top: 15px;
        overflow: auto;
        position: relative;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="col-md-6 col-md-offset-3" role="main">
        <div class="row">
          <p class="bg-info">Select a park below and start typing to discover points of interest.</p>
        </div>
        <form role="form">
          <div class="row">
            <div class="form-group">
              <label for="parks">Park</label>
              <select class="form-control" id="parks"></select>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="points-of-interest">Points of Interest</label>
              <select class="form-control" id="points-of-interest"></select>
            </div>
          </div>
        </form>
        <div class="row">
          <div class="img-thumbnail" id="map">
          </div>
        </div>
        <div class="row">
          <pre id="properties">
          </pre>
        </div>
      </div>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://www.nps.gov/npmap/bootstrap/3.2.0/dist/js/nps-bootstrap.js"></script>
    <script src="assets/libs/bootstrap3-typeahead/bootstrap3-typeahead.js"></script>
    <script src="assets/js/app.js"></script>
    <script src="http://www.nps.gov/npmap/npmap.js/2.0.0/npmap-bootstrap.min.js"></script>
  </body>
</html>

<!--
  <div class="row">
    <div class="form-group">
      <label for="points-of-interest">Points of Interest</label>
      <input class="form-control" id="points-of-interest" type="text">
    </div>
  </div>

  <script src="assets/libs/typeahead/typeahead.jquery.js"></script>

  success: function(data) {
    var results = [];

    $.each(data.features, function(i, feature) {
      var concatenated = feature.properties.name || 'Unnamed',
        coordinates = feature.geometry.coordinates,
        obj = {};

      if (feature.properties['nps:fcat']) {
        concatenated += ' (' + feature.properties['nps:fcat'] + ')';
      } else {
        concatenated += ' (No Category)';
      }

      $.extend(obj, feature.properties);
      obj.concatenated = concatenated;
      obj.lat = coordinates[1];
      obj.lng = coordinates[0];

      results.push(obj);
    });
    $info.html('This park has ' + results.length + ' points of interest in Places.');

    if (results.length > 0) {
      $('input').typeahead({
        afterSelect: function(data) {
          var latLng = {
            lat: data.lat,
            lng: data.lng
          },
          properties = $.extend({}, data);

          delete properties.concatenated;
          delete properties.lat;
          delete properties.lng;
          clearMarker();
          NPMap.config.L.setView(latLng, 15);
          marker = L.marker(latLng).addTo(NPMap.config.L);
          $map.show();
          $properties
            .html(JSON.stringify(properties, null, '\n'))
            .show();
          NPMap.config.L.invalidateSize();
        },
        autoSelect: false,
        displayKey: 'concatenated',
        source: results
      });
    }
  },
-->
